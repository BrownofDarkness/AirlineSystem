<!DOCTYPE html>
<html lang="en" xmlns:th="http://wwww.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Edit Flight</title>
    <link rel="stylesheet" th:href="@{static/css/adminpanel.css}">
    <script th:src="@{static/js/modal.js}"></script>

</head>
<body>
    <div>
        <ul style="padding: 5px;">
            <li class="a"><span>Administrator Panel</span></li>
            <div style="float: right;">
                <li><span id="myBtn" onclick="modal()">Create new flight</span></li>
                <li><a href="#contact">Flight Statistics</a></li>
                <li id="r">
                    <form th:action="@{/logout}" method="post">
                        <input type="submit" id="in2" value="Logout" />
                    </form>
            	</li>
            </div>
          </ul>
    </div> 


    <div id="myModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <div id="formcontainer">
                <form action="" method="post" th:action="@{/saveflight}" th:object="${flight}">
                    <label for="hour">Hour</label>
                    <input type="text" th:field="*{hour}" name="hour" id="hour">
                    <label for="depart">Departure Country</label>
                    <input type="text" name="depart" th:field="*{departCountry}" id="depart">
                    <label for="dtown">Departure town</label>
                    <input type="text" name="dtown" th:field="*{departTown}" id="dtown">
                    <label for="arrival">Arrival Country</label>
                    <input type="text" name="arrival" th:field="*{arivalCountry}" id="arrival">
                    <label for="atown">Arrival town</label>
                    <input type="text" name="atown" th:field="*{arivalTown}" id="atown">
                    <label for="price">Price</label>
                    <input type="text" name="price" th:field="*{price}" id="price">
                    <label for="status">Status:</label>
                    <input type="text" name="status" th:field="*{status}" id="status"> 
                    <label for="seats">Total seats</label>
                    <input type="number" name="seats" th:field="*{totalseats}" id="seats">
                    <input type="submit" value="Create" />
                </form> 
            </div>
        </div>
    </div> 

    <div class="table-container">
        <table>
            <tr>
                <th>Flight Id</th>
                <th>Departure Destination</th>
                <th>Arrival Destination</th>
                <th>Departure Time</th>
                <th></th>
                <th></th>
            </tr>
            <!-- <tr>
                <td>1</td>
                <td>Cameroon</td>
                <td>Nigeria</td>
                <td>12:15</td>
                <td>23-01-2023</td>
                <td><a id="first" href="#deleteflight">Delete</a></td>
                <td><a id="second" href="#update">Update</a></td>
            </tr>
            <tr>
                <td>2</td>
                <td>France</td>
                <td>USA</td>
                <td>18:45</td>
                <td>23-01-2023</td>
                <td><a id="first" href="#edeleteflight">Delete</a></td>
                <td><a id="second" href="#update">Update</a></td>

            </tr> -->
            
            <tr th:each="flight:${flights}">
                <td th:text="${flight.getId}">2</td>
                <td th:text="${flight.getDepartCountry}">France</td>
                <td th:text="${flight.getArivalCountry}">USA</td>
                <td th:text="${flight.getHour}">18:45</td>
                <td><a id="first" th:href="@{/deleteflight/{id}(id=${flight.getId})}">Delete</a></td>
                <td><a id="second" th:href="@{/updateflight_{id}(id=${flight.getId})}">Update</a></td>

            </tr>
        </table>        
    </div>
</body>
</html>
